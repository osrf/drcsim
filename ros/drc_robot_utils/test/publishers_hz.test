<launch>
  <!-- Bring up gazebo without the GUI -->
  <include file="$(find drc_robot_utils)/launch/drc_robot.launch">
    <arg name="gzname" value="gzserver"/>
  </include>

  <!-- Test for nominal publication rates -->
  <test pkg="rostest" type="hztest" test-name="laser_hztest">
    <param name="hz" value="40.0"/>
    <param name="hzerror" value="20.0"/>
    <param name="topic" value="scan"/>
    <param name="test_duration" value="10.0"/>
  </test>
  <test pkg="rostest" type="hztest" test-name="joint_states_hztest">
    <param name="hz" value="100.0"/>
    <param name="hzerror" value="20.0"/>
    <param name="topic" value="joint_states"/>
    <param name="test_duration" value="10.0"/>
  </test>
  <test pkg="rostest" type="hztest" test-name="clock_hztest">
    <param name="hz" value="1000.0"/>
    <param name="hzerror" value="200.0"/>
    <param name="topic" value="clock"/>
    <param name="test_duration" value="10.0"/>
  </test>
  <test pkg="rostest" type="hztest" test-name="tf_hztest">
    <param name="hz" value="100.0"/>
    <param name="hzerror" value="25.0"/>
    <param name="topic" value="tf"/>
    <param name="test_duration" value="10.0"/>
  </test>
</launch>
