include(cmake/rospack.cmake)

get_rospack_flags(pr2_controller_manager)
include_directories(${pr2_controller_manager_INCLUDE_DIRS})
link_directories(${pr2_controller_manager_LIBRARY_DIRS})
set(CMAKE_INSTALL_RPATH "${pr2_controller_manager_LIBRARY_DIRS}")
add_library(gazebo_ros_controller_manager SHARED gazebo_ros_controller_manager.cpp)
set_target_properties(gazebo_ros_controller_manager PROPERTIES COMPILE_FLAGS "${pr2_controller_manager_CFLAGS_OTHER}")
set_target_properties(gazebo_ros_controller_manager PROPERTIES LINK_FLAGS "${pr2_controller_manager_LDFLAGS_OTHER}")
target_link_libraries(gazebo_ros_controller_manager ${pr2_controller_manager_LIBRARIES})
install (TARGETS gazebo_ros_controller_manager DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/${PROJECT_NAME}-${DRC_SIM_VERSION}/plugins/)

get_rospack_flags(trajectory_msgs)
get_rospack_flags(roscpp)
include_directories(${roscpp_INCLUDE_DIRS} ${trajectory_msgs_INCLUDE_DIRS})
link_directories(${roscpp_LIBRARY_DIRS} ${trajectory_msgs_LIBRARY_DIRS})
set(CMAKE_INSTALL_RPATH "${roscpp_LIBRARY_DIRS} ${trajectory_msgs_LIBRARY_DIRS}")
add_executable(pub_joint_trajectory_test pub_joint_trajectory_test.cpp)
set_target_properties(pub_joint_trajectory_test PROPERTIES COMPILE_FLAGS "${roscpp_CFLAGS_OTHER} ${trajectory_msgs_CFLAGS_OTHER}")
set_target_properties(pub_joint_trajectory_test PROPERTIES LINK_FLAGS "${roscpp_LDFLAGS_OTHER} ${trajectory_msgs_LDFLAGS_OTHER}")
target_link_libraries(pub_joint_trajectory_test ${roscpp_LIBRARIES} ${trajectory_msgs_LIBRARIES})
install (TARGETS pub_joint_trajectory_test DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/${PROJECT_NAME}-${DRC_SIM_VERSION}/plugins/)

add_executable(pub_trajectory_controller_test pub_trajectory_controller_test.cpp)
set_target_properties(pub_trajectory_controller_test PROPERTIES COMPILE_FLAGS "${roscpp_CFLAGS_OTHER} ${trajectory_msgs_CFLAGS_OTHER}")
set_target_properties(pub_trajectory_controller_test PROPERTIES LINK_FLAGS "${roscpp_LDFLAGS_OTHER} ${trajectory_msgs_LDFLAGS_OTHER}")
target_link_libraries(pub_trajectory_controller_test ${roscpp_LIBRARIES} ${trajectory_msgs_LIBRARIES})
install (TARGETS pub_trajectory_controller_test DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/${PROJECT_NAME}-${DRC_SIM_VERSION}/plugins/)

get_rospack_flags(std_msgs)
get_rospack_flags(sensor_msgs)
get_rospack_flags(geometry_msgs)
get_rospack_flags(image_transport)
get_rospack_flags(tf)
include_directories(${std_msgs_INCLUDE_DIRS} ${sensor_msgs_INCLUDE_DIRS} ${geometry_msgs_INCLUDE_DIRS} ${image_transport_INCLUDE_DIRS} ${tf_INCLUDE_DIRS})
link_directories(${std_msgs_LIBRARY_DIRS} ${sensor_msgs_LIBRARY_DIRS} ${geometry_msgs_LIBRARY_DIRS} ${image_transport_LIBRARY_DIRS} ${tf_LIBRARY_DIRS})
set(CMAKE_INSTALL_RPATH "${std_msgs_LIBRARY_DIRS} ${sensor_msgs_LIBRARY_DIRS} ${geometry_msgs_LIBRARY_DIRS} ${image_transport_LIBRARY_DIRS} ${tf_LIBRARY_DIRS}")
add_library(gazebo_ros_camera_utils SHARED gazebo_ros_camera_utils.cpp)
set_target_properties(gazebo_ros_camera_utils PROPERTIES COMPILE_FLAGS "${std_msgs_CFLAGS_OTHER} ${sensor_msgs_CFLAGS_OTHER} ${geometry_msgs_CFLAGS_OTHER} ${image_transport_CFLAGS_OTHER} ${tf_CFLAGS_OTHER}")
set_target_properties(gazebo_ros_camera_utils PROPERTIES LINK_FLAGS "${std_msgs_LDFLAGS_OTHER} ${sensor_msgs_LDFLAGS_OTHER} ${geometry_msgs_LDFLAGS_OTHER} ${image_transport_LDFLAGS_OTHER} ${tf_LDFLAGS_OTHER}")
target_link_libraries(gazebo_ros_camera_utils ${std_msgs_LIBRARIES} ${sensor_msgs_LIBRARIES} ${geometry_msgs_LIBRARIES} ${image_transport_LIBRARIES} ${tf_LIBRARIES} CameraPlugin)
install (TARGETS gazebo_ros_camera_utils DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/${PROJECT_NAME}-${DRC_SIM_VERSION}/plugins/)


include_directories(${sensor_msgs_INCLUDE_DIRS} ${tf_INCLUDE_DIRS})
link_directories(${sensor_msgs_LIBRARY_DIRS} ${tf_LIBRARY_DIRS})
set(CMAKE_INSTALL_RPATH "${sensor_msgs_LIBRARY_DIRS} ${tf_LIBRARY_DIRS}")
add_library(gazebo_ros_laser SHARED gazebo_ros_laser.cpp)
set_target_properties(gazebo_ros_laser PROPERTIES COMPILE_FLAGS "${sensor_msgs_CFLAGS_OTHER} ${tf_CFLAGS_OTHER}")
set_target_properties(gazebo_ros_laser PROPERTIES LINK_FLAGS "${sensor_msgs_LDFLAGS_OTHER} ${tf_LDFLAGS_OTHER}")
target_link_libraries(gazebo_ros_laser ${sensor_msgs_LIBRARIES} ${tf_LIBRARIES} RayPlugin)
install (TARGETS gazebo_ros_laser DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/${PROJECT_NAME}-${DRC_SIM_VERSION}/plugins/)


include_directories(${sensor_msgs_INCLUDE_DIRS} ${std_srvs_INCLUDE_DIRS})
link_directories(${sensor_msgs_LIBRARY_DIRS} ${std_srvs_LIBRARY_DIRS})
set(CMAKE_INSTALL_RPATH "${sensor_msgs_LIBRARY_DIRS} ${std_srvs_LIBRARY_DIRS}")
add_library(gazebo_ros_imu SHARED gazebo_ros_imu.cpp)
set_target_properties(gazebo_ros_imu PROPERTIES COMPILE_FLAGS "${sensor_msgs_CFLAGS_OTHER} ${std_srvs_CFLAGS_OTHER}")
set_target_properties(gazebo_ros_imu PROPERTIES LINK_FLAGS "${sensor_msgs_LDFLAGS_OTHER} ${std_srvs_LDFLAGS_OTHER}")
target_link_libraries(gazebo_ros_imu ${sensor_msgs_LIBRARIES} ${std_srvs_LIBRARIES} RayPlugin)
install (TARGETS gazebo_ros_imu DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/${PROJECT_NAME}-${DRC_SIM_VERSION}/plugins/)


add_library(gazebo_ros_camera SHARED gazebo_ros_camera.cpp)
target_link_libraries(gazebo_ros_camera gazebo_ros_camera_utils)
install (TARGETS gazebo_ros_camera DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/${PROJECT_NAME}-${DRC_SIM_VERSION}/plugins/)



get_rospack_flags(trajectory_msgs)
#get_rospack_flags(geometry_msgs)
#get_rospack_flags(image_transport)
#get_rospack_flags(tf)
include_directories(${trajectory_msgs_INCLUDE_DIRS} ${geometry_msgs_INCLUDE_DIRS} ${image_transport_INCLUDE_DIRS} ${tf_INCLUDE_DIRS})
link_directories(${trajectory_msgs_LIBRARY_DIRS} ${geometry_msgs_LIBRARY_DIRS} ${image_transport_LIBRARY_DIRS} ${tf_LIBRARY_DIRS})
set(CMAKE_INSTALL_RPATH "${trajectory_msgs_LIBRARY_DIRS} ${geometry_msgs_LIBRARY_DIRS} ${image_transport_LIBRARY_DIRS} ${tf_LIBRARY_DIRS}")
add_library(DRCRobotPlugin SHARED DRCRobotPlugin.cc)
set_target_properties(DRCRobotPlugin PROPERTIES COMPILE_FLAGS "${trajectory_msgs_CFLAGS_OTHER} ${geometry_msgs_CFLAGS_OTHER} ${image_transport_CFLAGS_OTHER} ${tf_CFLAGS_OTHER}")
set_target_properties(DRCRobotPlugin PROPERTIES LINK_FLAGS "${trajectory_msgs_LDFLAGS_OTHER} ${geometry_msgs_LDFLAGS_OTHER} ${image_transport_LDFLAGS_OTHER} ${tf_LDFLAGS_OTHER}")
target_link_libraries(DRCRobotPlugin ${trajectory_msgs_LIBRARIES} ${geometry_msgs_LIBRARIES} ${image_transport_LIBRARIES} ${tf_LIBRARIES})
install (TARGETS DRCRobotPlugin DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/${PROJECT_NAME}-${DRC_SIM_VERSION}/plugins/)



#get_rospack_flags(trajectory_msgs)
#get_rospack_flags(geometry_msgs)
#get_rospack_flags(image_transport)
#get_rospack_flags(tf)
include_directories(${trajectory_msgs_INCLUDE_DIRS} ${geometry_msgs_INCLUDE_DIRS} ${image_transport_INCLUDE_DIRS} ${tf_INCLUDE_DIRS})
link_directories(${trajectory_msgs_LIBRARY_DIRS} ${geometry_msgs_LIBRARY_DIRS} ${image_transport_LIBRARY_DIRS} ${tf_LIBRARY_DIRS})
set(CMAKE_INSTALL_RPATH "${trajectory_msgs_LIBRARY_DIRS} ${geometry_msgs_LIBRARY_DIRS} ${image_transport_LIBRARY_DIRS} ${tf_LIBRARY_DIRS}")
add_library(gazebo_ros_joint_trajectory SHARED gazebo_ros_joint_trajectory.cpp)
set_target_properties(gazebo_ros_joint_trajectory PROPERTIES COMPILE_FLAGS "${trajectory_msgs_CFLAGS_OTHER} ${geometry_msgs_CFLAGS_OTHER} ${image_transport_CFLAGS_OTHER} ${tf_CFLAGS_OTHER}")
set_target_properties(gazebo_ros_joint_trajectory PROPERTIES LINK_FLAGS "${trajectory_msgs_LDFLAGS_OTHER} ${geometry_msgs_LDFLAGS_OTHER} ${image_transport_LDFLAGS_OTHER} ${tf_LDFLAGS_OTHER}")
target_link_libraries(gazebo_ros_joint_trajectory ${trajectory_msgs_LIBRARIES} ${geometry_msgs_LIBRARIES} ${image_transport_LIBRARIES} ${tf_LIBRARIES})
install (TARGETS gazebo_ros_joint_trajectory DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/${PROJECT_NAME}-${DRC_SIM_VERSION}/plugins/)

#get_rospack_flags(trajectory_msgs)
#get_rospack_flags(geometry_msgs)
#get_rospack_flags(image_transport)
#get_rospack_flags(tf)
#get_rospack_flags(gazebo_msgs)
#include_directories(${gazebo_msgs_INCLUDE_DIRS} ${trajectory_msgs_INCLUDE_DIRS} ${geometry_msgs_INCLUDE_DIRS} ${image_transport_INCLUDE_DIRS} ${tf_INCLUDE_DIRS})
#link_directories(${gazebo_msgs_LIBRARY_DIRS} ${trajectory_msgs_LIBRARY_DIRS} ${geometry_msgs_LIBRARY_DIRS} ${image_transport_LIBRARY_DIRS} ${tf_LIBRARY_DIRS})
#set(CMAKE_INSTALL_RPATH "${gazebo_msgs_LIBRARY_DIRS} ${trajectory_msgs_LIBRARY_DIRS} ${geometry_msgs_LIBRARY_DIRS} ${image_transport_LIBRARY_DIRS} ${tf_LIBRARY_DIRS}")
#add_library(gazebo_ros_api_plugin SHARED gazebo_ros_api_plugin.cpp)
#set_target_properties(gazebo_ros_api_plugin PROPERTIES COMPILE_FLAGS "${gazebo_msgs_CFLAGS_OTHER} ${trajectory_msgs_CFLAGS_OTHER} ${geometry_msgs_CFLAGS_OTHER} ${image_transport_CFLAGS_OTHER} ${tf_CFLAGS_OTHER}")
#set_target_properties(gazebo_ros_api_plugin PROPERTIES LINK_FLAGS "${gazebo_msgs_LDFLAGS_OTHER} ${trajectory_msgs_LDFLAGS_OTHER} ${geometry_msgs_LDFLAGS_OTHER} ${image_transport_LDFLAGS_OTHER} ${tf_LDFLAGS_OTHER}")
#target_link_libraries(gazebo_ros_api_plugin ${gazebo_msgs_LIBRARIES} ${trajectory_msgs_LIBRARIES} ${geometry_msgs_LIBRARIES} ${image_transport_LIBRARIES} ${tf_LIBRARIES})
#install (TARGETS gazebo_ros_api_plugin DESTINATION ${gazebo_msgs_INCLUDE_DIRS} ${CMAKE_INSTALL_PREFIX}/lib/${PROJECT_NAME}-${DRC_SIM_VERSION}/plugins/)

include_directories(${trajectory_msgs_INCLUDE_DIRS} ${geometry_msgs_INCLUDE_DIRS} ${image_transport_INCLUDE_DIRS} ${tf_INCLUDE_DIRS})
link_directories(${trajectory_msgs_LIBRARY_DIRS} ${geometry_msgs_LIBRARY_DIRS} ${image_transport_LIBRARY_DIRS} ${tf_LIBRARY_DIRS})
set(CMAKE_INSTALL_RPATH "${trajectory_msgs_LIBRARY_DIRS} ${geometry_msgs_LIBRARY_DIRS} ${image_transport_LIBRARY_DIRS} ${tf_LIBRARY_DIRS}")
add_library(gazebo_ros_api_plugin SHARED gazebo_ros_api_plugin.cpp)
set_target_properties(gazebo_ros_api_plugin PROPERTIES COMPILE_FLAGS "${trajectory_msgs_CFLAGS_OTHER} ${geometry_msgs_CFLAGS_OTHER} ${image_transport_CFLAGS_OTHER} ${tf_CFLAGS_OTHER}")
set_target_properties(gazebo_ros_api_plugin PROPERTIES LINK_FLAGS "${trajectory_msgs_LDFLAGS_OTHER} ${geometry_msgs_LDFLAGS_OTHER} ${image_transport_LDFLAGS_OTHER} ${tf_LDFLAGS_OTHER}")
target_link_libraries(gazebo_ros_api_plugin ${trajectory_msgs_LIBRARIES} ${geometry_msgs_LIBRARIES} ${image_transport_LIBRARIES} ${tf_LIBRARIES})
install (TARGETS gazebo_ros_api_plugin DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/${PROJECT_NAME}-${DRC_SIM_VERSION}/plugins/)

